<html>
<head>
<title>16-264: Humanoids Vision Project</title>    
</head>
<body>
<h1>Plank Detection Project</h1>
<hr>
<h2>Objective</h2>
<p>The goal of the project is to detect colored Keva planks in images and determine their positions and orientations. Below is an example of a single unpainted Keva plank. The task will be to determine the pose of this plank relative to the camera.</p>
<figure style="text-align: center">
    <img src="plank.png"/>
    <figcaption>
        An unpainted Keva plank
    </figcaption>
</figure>
<p>However, the real environment will be a lot more complicated with many more Keva planks. In the real environment, the planks may be partially occluded with varying lighting. The background of the image may also be complex. This increases the difficulty of detecting plank poses.</p>
<figure style="text-align: center">
    <img src="img.png"/>
    <figcaption>
        A pile of painted Keva planks
    </figcaption>
</figure>
<hr>
<h2>Approach</h2>
<p>We can define a plank as a set of straight lines that meet at eight vertices. For our detection purposes, we can fully define a plank if we can see three orthogonal lines meeting at a vertex. Because we know the exact dimensions of the plank, we can figure out its pose. The main procedure follows these steps:</p>
    <ul>
        <li>Preprocess the image</li>
        <li>Detect corners in the image</li>
        <li>Detect lines emanating from each corner</li>
        <li>Find vertices where three lines meet</li>
        <li>Find full lines that connect two vertices</li>
        <li>Find vertices where three full lines meet</li>
        <li>Generate plank pose</li>
    </ul>
<hr>
<h2>Image Preprocessing</h2>
<p>We can take advantage of the planks' coloring to perform color thresholding. We can select only pixels that are green, red or blue, removing most of the background. We then use a Gaussian filter to reduce the noise in the image.</p>
<figure style="text-align: center">
    <img src="masked.png"/>
    <figcaption>
        Image after color thresholding
    </figcaption>
</figure>
<hr>
<h2>Corner Detection</h2>
<p>We can perform corner detection on a grayscale version of the input image. MATLAB provides inbuilt functions that performs this detection using the Harris corner detector. The results are very good on the single plank image, although one corner was not detected.</p>
<figure style="text-align: center">
    <img src="corners.png"/>
    <figcaption>
        Corner detection on single plank
    </figcaption>
</figure>
<p>However, results are not consistent. In the pile of planks image, many points along edges have also been marked as corners. Luckily, this does not affect our algorithm since we have a pruning step where corners that are not vertices are removed.</p>
<figure style="text-align: center">
    <img src="masked_corners.png"/>
    <figcaption>
        Corner detection on pile of planks
    </figcaption>
</figure>
<hr>
<h2>Next Steps</h2>
<p>The next step would be to extract an image patch at each corner and compute gradients. We can use the gradients to determine the directions lines are emanating from the corner.</p>
</body>
</html>